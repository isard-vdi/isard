<style>
    .alert-error {
        margin-bottom: 0px;
    }

    #modalIncreaseStorage .parsley-errors-list {
        position: fixed;
    }

    .file-upload {
        cursor: pointer;
        width: 100% !important;
        border: none;
        padding: 0px;
        font-size: initial;
        box-shadow: none !important;
    }

    #modalMoveStorage .radio-title .iradio_flat-green {
        display: block;
    }

    #modalMoveStorage select {
        margin: 7px;
        width: 100%;
    }
</style>

<div class="modal fade" id="modalConvertStorage" tabindex="-1" role="dialog" aria-labelledby="modalConvertStorage"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-exchange"></i> Convert disk</h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalConvertStorageForm" class="form-inline form-label-left">
                    <input hidden id="id" name="storage_id" />
                    <div class="x_panel">
                        <div class="row">
                            <div class="x_title">
                                <h4>Convert storage disk to a different disk format</h4>
                                <div class="clearfix">
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="col-md-6">
                                    <label class="control-label">Current disk format:</label>
                                    <select id="current-disk_format" style="width:100%;" disabled
                                        class="roundbox form-control">
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="control-label">New disk format: </label>
                                    <select name="new_storage_type" style="width:100%;" id="new-disk_format"
                                        class="roundbox form-control"></select>
                                    <label class="control-label" for="compress-enabled" style="margin:10px">
                                        <div class="icheckbox_flat-green" style="position: relative;">
                                            <input type="checkbox" id="compress-cb" name="compress-cb" class="flat"
                                                style="position: absolute; opacity: 0;">
                                            <ins class="iCheck-helper"
                                                style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;">
                                            </ins>
                                        </div>
                                        Compress
                                    </label>
                                </div>
                            </div>
                            <div class="x_title">
                                <h4>Other options</h4>
                                <div class="clearfix">
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="col-md-6">
                                    <label class="control-label" for="change_status-enabled" style="margin:10px">
                                        <div class="icheckbox_flat-green" style="position: relative;">
                                            <input type="checkbox" id="change_status-cb" name="change_status-cb"
                                                class="flat" style="position: absolute; opacity: 0;">
                                            <ins class="iCheck-helper"
                                                style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;">
                                            </ins>
                                        </div>
                                        Change disk status
                                    </label>
                                </div>
                                <div class="col-md-6" id="new_status-content" style="display:none;">
                                    <label class="control-label">New status:</label>
                                    <select id="new-status" name="new_status" class="roundbox form-control">
                                    </select>
                                </div>
                            </div>
                            <div class="x_panel" id="priority-panel">
                                <label class="col-md-2" style="margin-left:10px;">Priority: </label>
                                <div class="col-md-4">
                                    <select name="priority" id="priority" class="roundbox form-control" style="width:100%;">
                                    </select>
                                </div>
                            </div>
        
                            
                        </div>
                        <div class="row">
                            <div role="alert" class="alert alert-error">
                                <i class="fa fa-warning"></i> WARNING: This process may take a long time. The disk will
                                be unavailable until the conversion is complete.
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li><button id="send" type="button" class="btn btn-success"><i class="fa fa-warning"></i>
                            Convert</button></li>
                </ul>
            </div>

        </div>
    </div>
</div>

<div class="modal fade" id="modalIncreaseStorage" tabindex="-1" role="dialog" aria-labelledby="modalIncreaseStorage"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-external-link-square"></i> Increase disk size
                </h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalIncreaseStorageForm" class="form-inline form-label-left">
                    <input hidden id="id" name="storage_id" />
                    <input hidden id="current_size" name="current_size" />
                    <div class="x_panel">
                        <div class="row">
                            <label class="col-md-3 col-sm-6">Current size:</label>
                            <div class="col-md-3 col-sm-6" id="current-size">
                                GB
                            </div>
                            <label class="col-md-2 col-sm-6">New size:</label>
                            <div class="col-md-3 col-sm-6">
                                <input class="form-control roundbox" name="new_size" type="number" placeholder="20"
                                    style="width:80%" id="new-size" data-parsley-trigger="change"
                                    data-parsley-type="number" required /> GB
                                <ul style="display:none" class="parsley-errors-list filled" id="parsley-id-9"
                                    aria-hidden="false"></ul>
                            </div>
                            <div class="col-md-6" id="max-quota-div"><i>(max. <span id="max-quota"></span>GB)</i></div>
                        </div>
                    </div>
                    <div class="x_panel" id="priority-panel" style="margin-top: 1rem; margin-bottom: 2rem;">
                        <div class="row">
                            <label class="col-md-3">Priority: </label>
                            <div class="col-md-3">
                                <select name="priority" id="priority" class="roundbox form-control" style="width:100%;">
                                </select>
                            </div>
                            <label class="col-md-2 col-sm-6" for="retry">Retries:</label>
                            <div class="col-md-3 col-sm-6">
                                <input class="form-control roundbox" name="retry" type="number" placeholder="3" value="0" min="0" max="5"
                                    id="retry" data-parsley-trigger="change" data-parsley-type="number" required style="width: 100%;"  />
                            </div>
                        </div>
                    </div>
                    <div class="x_panel">
                        <div class="row">
                            <div role="alert" class="alert alert-error"><i class="fa fa-warning"></i> WARNING: Please be
                                mindful that this action could potentially lead to storage data corruption.
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li><button id="send" type="button" class="btn btn-success"></i>
                            Increase</button></li>
                </ul>
            </div>

        </div>
    </div>
</div>


<div class="modal fade" id="modalCreateStorage" tabindex="-1" role="dialog" aria-labelledby="modalCreateStorage"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-plus"></i> Create disk</h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalCreateStorageForm" class="form-inline form-label-left">
                    <input hidden id="id" name="parent" />
                    <input hidden id="kind" name="kind" />
                    <div class="x_panel">
                        <div class="row">
                            <h4></h4>
                            <div class="x_panel">
                                <div class="row x_content">
                                    <div class="col-md-12" id="owner-wrapper">
                                        <label class="control-label">Owner: </label>
                                        <select name="user_id" id="user" style="width:100%;"
                                            class="roundbox form-control tags-select">
                                        </select>
                                    </div>
                                </div>
                                <div class="row x_content">
                                    <div class="col-md-12" id="storage_id-wrapper">
                                        <label class="control-label">Parent storage ID: </label>
                                        <span id="storage_id">
                                    </div>
                                </div>
                                <div class="row x_content">
                                    <div class="col-md-6 col-sm-12">
                                        <label class="control-label">Type: </label>
                                        <select name="usage_type" id="usage_type" style="width:100%;"
                                            class="roundbox form-control">
                                            <option selected value="desktop">Desktop</option>
                                            <option value="media">Media</option>
                                            <option value="template">Template</option>
                                            <option value="volatile">Volatile</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 col-sm-12">
                                        <label class="control-label">New disk format: </label>
                                        <select disabled name="storage_type" id="storage_type" style="width:100%;"
                                            class="roundbox form-control">
                                            <option selected value="qcow2">.qcow2</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row x_content">
                                    <div class="col-md-6 col-sm-12">
                                        <label class="control-label">Priority: </label>
                                        <select name="priority" id="priority" style="width:100%;"
                                            class="roundbox form-control">
                                        </select>
                                    </div>
                                    <div class="col-md-6 col-sm-12">
                                        <label class="control-label">Size: <br></label>
                                        <div>
                                            <input style="width:66%;" value="10" name="size" id="size" type="number"
                                                class="roundbox form-control" data-parsley-trigger="change">
                                            <select disabled name="size_unit" style="width:32%;display:inline!important;"
                                                id="size_unit" class="roundbox form-control">
                                                <option value="M">MB</option>
                                                <option selected value="G">GB</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row x_content">
                                    <div class="col-md-6 col-sm-12">
                                        <label class="control-label">Retries: <br></label>
                                        <div>
                                            <input style="width:100%;" placeholder="3" value="0" min="0" max="5" name="retry" id="retry" type="number"
                                                class="roundbox form-control" data-parsley-trigger="change" data-parsley-type="number" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li><button id="send" type="button" class="btn btn-success">Create</button></li>
                </ul>
            </div>

        </div>
    </div>
</div>

<div class="modal fade" id="modalSearchStorage" tabindex="-1" role="dialog" aria-labelledby="modalSearchStorage" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-search"></i> Search Storage <small>Retrieve relevant storage information</small></h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalSearchStorageForm" class="form-inline form-label-left">
                    <div class="form-group x_panel" style="margin-bottom: 15px;">
                        <label for="storage-id" class="control-label">Storage ID:</label>
                        <input type="text" id="storage-id" name="storage_id" class="form-control roundbox" placeholder="Enter Storage ID" required style="width: 100%; max-width: 55%;">
                        <button type="button" id="search-storage-btn" class="btn btn-info" style="margin-bottom: auto;">
                            <i class="fa fa-search"></i> Search storage
                        </button>
                    </div>
                    <div id="storage-info" class="x_panel" style="display: none;">
                        <table id="storage-info-table" class="table table-bordered table-striped" style="margin-bottom:0;">
                            <tbody>
                                <tr>
                                    <th>Status</th>
                                    <td id="storage-info-status"></td>
                                </tr>
                                <tr>
                                    <th>Path</th>
                                    <td id="storage-info-path"></td>
                                </tr>
                                <tr>
                                    <th>Size</th>
                                    <td id="storage-info-size"></td>
                                </tr>
                                <tr data-row="user">
                                    <th>User</th>
                                    <td id="storage-info-user"></td>
                                </tr>
                                <tr data-row="group">
                                    <th>Group</th>
                                    <td id="storage-info-group"></td>
                                </tr>
                                <tr data-row="category">
                                    <th>Category</th>
                                    <td id="storage-info-category"></td>
                                </tr>
                                <tr data-row="domains">
                                    <th>Domains</th>
                                    <td id="storage-info-domains"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button></li>
                </ul>
            </div>

        </div>
    </div>
</div>

<div class="modal fade" id="modalVirtWinReg" tabindex="-1" role="dialog" aria-labelledby="modalVirtWinReg"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-edit"></i> Apply Windows Registry Patch</h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalVirtWinRegForm" class="form-inline form-label-left">
                    <input hidden id="id" name="storage_id" />
                    <input hidden id="kind" name="kind" />
                    <div class="x_panel">
                        <label for="registry_file" class="form-label">Upload registry file</label>
                        <div class="x_panel">
                            <input class="form-control form-control-lg file-upload" name="registry_file"
                                id="registry_file" type="file" accept=".reg" required>
                        </div>
                        <div class="x_panel">
                            <label class="control-label">Priority:</label>
                            <select name="priority" id="priority" class="form-control tags-select roundbox"
                                style="width:50%;">
                            </select>
                        </div>
                        <div class="x_panel">
                            <label class="control-label" for="retry">Retries:</label>
                            <input class="form-control roundbox" name="retry" type="number" placeholder="3" value="0" min="0" max="5"
                                id="retry" data-parsley-trigger="change" data-parsley-type="number" required style="width: 50%;" />
                        </div>


                        <div class="row">
                            <div role="alert" class="alert alert-error">
                                <i class="fa fa-warning"></i> Make sure you understand the risks associated with
                                modifying the registry.
                            </div>
                        </div>

                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <button id="send" type="button" class="btn btn-success"><i class="fa fa-warning"></i>
                            Apply</button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalSparsify" tabindex="-1" role="dialog" aria-labelledby="modalSparsify"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-compress"></i> Sparsify disk</h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalSparsifyForm" class="form-inline form-label-left">
                    <input hidden id="id" name="storage_id" />
                    <input hidden id="kind" name="kind" />
                    <div class="x_panel">
                        <div class="col">
                            <div class="x_content">
                                <label class="control-label">Priority:</label>
                                <select name="priority" id="priority" class="form-control tags-select roundbox" style="width:50%;">
                                </select>
                            </div>
                            <div class="x_content">
                                <label class="control-label" for="retry">Retries:</label>
                                <input class="form-control roundbox" name="retry" type="number" placeholder="3" value="0" min="0" max="5"
                                    id="retry" data-parsley-trigger="change" data-parsley-type="number" required style="width: 50%;" />
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <button id="send" type="button" class="btn btn-success"><i class="fa fa-warning"></i>
                            Apply</button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalDisconnect" tabindex="-1" role="dialog" aria-labelledby="modalDisconnect"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-plug"></i> Disconnect disk</h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalDisconnectForm" class="form-inline form-label-left">
                    <input hidden id="id" name="storage_id" />
                    <input hidden id="kind" name="kind" />
                    <div class="x_panel">
                        <div class="x_panel">
                            <label class="control-label">Priority:</label>
                            <select name="priority" id="priority" class="form-control tags-select roundbox"
                                style="width:50%;">
                            </select>
                        </div>
                        <div class="x_panel">
                            <label class="control-label" for="retry">Retries:</label>
                            <input class="form-control roundbox" name="retry" type="number" placeholder="3" value="0" min="0" max="5"
                                id="retry" data-parsley-trigger="change" data-parsley-type="number" required style="width: 50%;" />
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <button id="send" type="button" class="btn btn-success"><i class="fa fa-warning"></i>
                            Apply</button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalMoveStorage" tabindex="-1" role="dialog" aria-labelledby="modalMoveStorage"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel"><i class="fa fa-truck"></i> Move storage</h4>
            </div>

            <!-- Modal Body -->
            <div class="modal-body">
                <form id="modalMoveStorageForm" class="form-inline form-label-left">
                    <input hidden id="id" name="storage_id" />
                    <input hidden id="kind" name="kind" />
                    <div class="x_panel" id="same_pool-panel">
                        <div class="radio-wrapper">
                            <div class="col-md-6 col-xs-12">
                                <label class="control-label">
                                    <h4>
                                        <div class="radio radio-title" display:inline;">
                                            <div class="iradio_flat-green">
                                                <input type="radio" id="same_pool" value="same_pool" checked
                                                    name="pool-radio">
                                                <ins class="iCheck-helper"></ins>
                                            </div>
                                        </div> Within same storage pool
                                    </h4>
                                </label>
                            </div>
                            <div class="col-md-6 col-xs-12">
                                <label class="control-label different_pool">
                                    <h4>
                                        <div class="radio radio-title" display:inline;">
                                            <div class="iradio_flat-green">
                                                <input type="radio" id="different_pool" value="different_pool"
                                                    name="pool-radio">
                                                <ins class="iCheck-helper"></ins>
                                            </div>
                                        </div> To a different storage pool
                                    </h4>
                                </label>
                            </div>
                            <hr>
                        </div>
                        <div class="row">
                            <div class="x_panel">
                                <div class="col-md-12 same_pool-display">
                                    <label class="control-label">Storage pool:</label>
                                    <select id="storage_pool-name" disabled class="roundbox form-control" name="storage_pool" required>
                                        <option selected></option>
                                    </select>
                                </div>
                                <div class="col-md-12 update different_pool-display"" style=" display:none;">
                                    <label class="control-label">Destination storage pool: </label>
                                    <select id="storage_pool" class="roundbox form-control">
                                        <option selected>-- Choose a storage pool --</option>
                                    </select>
                                </div>
                                <div class="col-md-12" style="margin-top:10px;margin-bottom:10px;" id="move-from-panel">
                                    <label class="control-label">Move from
                                        <span id="origin_path" class="text-muted"></span> to: </label>
                                    <select name="destination_path" style="max-width:100%;" required
                                        class="form-control new_path tags-select roundbox">
                                        <option selected>-- Choose a new path --</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="control-label">Priority:</label>
                                    <select name="priority" id="priority" class="form-control tags-select roundbox">
                                    </select>
                                </div>
                                <!-- <div class="col-md-6">
                                    <label class="control-label" for="retry">Retries:</label>
                                    <input class="form-control roundbox" name="retry" type="number" placeholder="3" value="0" min="0" max="5"
                                        id="retry" data-parsley-trigger="change" data-parsley-type="number" required style="width: 100%; margin: 7px;" />
                                </div> -->
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h4>Method</h4>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <label for="method" class="control-label">Choose a moving tool:</label>
                                    <select id="method" name="method" class="form-control roundbox"></select>
                                </div>
                                <div class="x_content" id="rsync-display" style="display:none;">
                                    <div id="after-rsync-panel">
                                        <label for="after_rsync">After rsync:</label>
                                        <div>
                                            <select class="roundbox form-control" required name="remove_source_file" id="after-rsync"></select>
                                        </div>
                                    </div>
                                    <label for="bwlimit">Bandwith limit (KB/s):</label>
                                    <div>
                                        <input type="number" name="bwlimit" id="bwlimit" style="margin: 7px;"
                                        class="form-control roundbox" required value="0" placeholder="0"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <ul class="nav navbar-left panel_toolbox">
                    <li><button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button></li>
                </ul>
                <ul class="nav navbar-right panel_toolbox">
                    <li><button id="send" type="button" class="btn btn-success">Move</button></li>
                </ul>
            </div>

        </div>
    </div>
</div>
